import{d as h,u as w,c as u,r as S,o as i,a as n,b as e,F as v,e as f,t as d,f as b,M as $,g as x,h as p,w as M,R as k,n as g,_ as C,i as D}from"./index-e08dedab.js";const F=e("h4",{class:"fs-2"},"Filter Section",-1),L={class:"d-flex flex-wrap justify-content-between column-gap-5 row-gap-2 mt-3"},A={class:"input-group filter-input flex-grow-1"},B=e("label",{class:"input-group-text",id:"filter-year"},"Year",-1),j=e("option",{selected:"",hidden:""},"Select a year",-1),N=["value"],V={class:"input-group filter-input flex-grow-1"},z=e("label",{class:"input-group-text",id:"filter-genre"},"genre",-1),E=e("option",{selected:"",hidden:""},"Select a genre",-1),H=["value"],I=h({__name:"FilterBar",setup(m){const r=w(),o=u(()=>r.state.genres),_=new Array(50).fill(new Date().getFullYear()).map((c,s)=>c-s),l=S({primary_release_year:void 0,with_genres:void 0}),a=(c,s)=>{l[s]=+c.target.value,$.getDiscoverMovies({params:{...l}})};return(c,s)=>(i(),n(v,null,[F,e("div",L,[e("div",A,[B,e("select",{class:"form-select","aria-describedby":"filter-year",onChange:s[0]||(s[0]=t=>a(t,"primary_release_year"))},[j,(i(!0),n(v,null,f(b(_),t=>(i(),n("option",{value:t,key:t},d(t),9,N))),128))],32)]),e("div",V,[z,e("select",{class:"form-select","aria-describedby":"filter-genre",onChange:s[1]||(s[1]=t=>a(t,"with_genres"))},[E,(i(!0),n(v,null,f(o.value,t=>(i(),n("option",{value:t.id,key:t.id},d(t.name),9,H))),128))],32)])])],64))}});const P={class:"movie-card card shadow-sm"},R=["src"],Y={class:"card-body"},O={class:"card-title"},T={class:"card-text"},U={class:"overview-see-more"},q={class:"card-footer"},G={class:"text-body-secondary float-end"},J=h({__name:"MovieCard",props:{movie:{}},setup(m){const r=m,o=x(!1),_=x(new Date(r.movie.release_date).toLocaleDateString());return(l,a)=>(i(),n("div",P,[p(b(k),{to:"/movieDetail/"+l.movie.id},{default:M(()=>[e("img",{src:l.movie.imageUrl,class:"card-img-top",alt:"movie poster",loading:"lazy"},null,8,R)]),_:1},8,["to"]),e("div",Y,[p(b(k),{to:"/movieDetail/"+l.movie.id},{default:M(()=>[e("h5",O,d(l.movie.title),1)]),_:1},8,["to"]),e("div",{class:g(["overview",o.value&&"show"])},[e("p",T,d(l.movie.overview),1)],2),e("div",U,[e("button",{onClick:a[0]||(a[0]=c=>o.value=!o.value)},"Show "+d(o.value?"less":"full"),1)])]),e("div",q,[e("small",G,d(_.value),1)])]))}});const K=C(J,[["__scopeId","data-v-ec5960bb"]]),Q={class:"container-fluid h-100 pt-4 movies-list"},W={class:"row row-gap-4"},X=h({__name:"MoviesList",setup(m){const r=w();D(async()=>{await $.getDiscoverMovies()});const o=u(()=>r.state.movies);return(_,l)=>(i(),n("div",Q,[e("div",W,[(i(!0),n(v,null,f(o.value,a=>(i(),n("section",{key:a.id,class:"col d-flex justify-content-center"},[p(K,{movie:a},null,8,["movie"])]))),128))])]))}});const Z=C(X,[["__scopeId","data-v-79fb0678"]]),ee={class:"container card shadow-lg my-3"},te={class:"row row-gap-3 card-body"},se={class:"col col-12 filter-container card"},oe={class:"card-body"},ae={class:"col col-12 filter-container card"},ie={class:"card-body"},ne=e("div",{class:"card-title mb-4"},[e("h5",{class:"text-center fw-bolder fs-1"},"Popular Movies")],-1),le={"aria-label":"Page navigation"},re={class:"pagination justify-content-center"},ce=["onClick"],_e=h({__name:"HomeView",setup(m){const r=w(),o=u(()=>r.state.pagination.page),_=u(()=>r.state.pagination.total_pages),l=u(()=>{const s=[];if(o.value)for(let t=0;s.length<=2*2;t++){const y=o.value-2+t;y>0&&s.push(y)}return s}),a=c=>{$.getDiscoverMovies({params:{page:c}})};return D(()=>{r.commit("setTitle","HOME")}),(c,s)=>(i(),n("div",ee,[e("div",te,[e("section",se,[e("div",oe,[p(I)])]),e("section",ae,[e("div",ie,[ne,e("nav",le,[e("ul",re,[e("li",{class:g(["page-item",o.value===1?"disabled":""])},[e("button",{class:"page-link",onClick:s[0]||(s[0]=t=>a(o.value-1))},"Previous")],2),(i(!0),n(v,null,f(l.value,t=>(i(),n("li",{class:g(["page-item",o.value===t?"disabled":""]),key:t},[e("button",{class:"page-link",onClick:y=>a(t)},d(t),9,ce)],2))),128)),e("li",{class:g(["page-item",o.value===_.value?"disabled":""])},[e("button",{class:"page-link",onClick:s[1]||(s[1]=t=>a(o.value+1))},"Next")],2)])]),p(Z)])])])]))}});export{_e as default};
